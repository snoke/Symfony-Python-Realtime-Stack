services:
  gateway:
    environment:
      - WS_MODE=terminator
      - SYMFONY_WEBHOOK_URL=http://symfony:8000/internal/ws/events
      - SYMFONY_WEBHOOK_SECRET=
      - WEBHOOK_RETRY_ATTEMPTS=3
      - WEBHOOK_RETRY_BASE_SECONDS=0.5
      - WEBHOOK_TIMEOUT_SECONDS=5

  symfony:
    environment:
      - WS_MODE=terminator
      - WS_TRANSPORT_TYPE=http
      - WS_PRESENCE_TYPE=http
      - WS_EVENTS_TYPE=webhook
      - WS_GATEWAY_BASE_URL=http://gateway:8000
      - WS_GATEWAY_API_KEY=dev-key
